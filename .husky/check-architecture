#!/bin/sh
#
# Architecture Boundary Check - Python Implementation Only
# 
# Usage:
#   pnpm check:architecture [path]     # Recommended: uses pnpm environment
#   bash .husky/check-architecture     # Direct execution
#

set -e

# Default path: src
TARGET_PATH=${1:-src}

# Run Python implementation directly
if command -v python3 >/dev/null 2>&1 && [ -f "scripts/check-architecture.py" ]; then
    python3 scripts/check-architecture.py "$TARGET_PATH"
    exit $?
else
    echo "‚ùå Python3 not available or scripts/check-architecture.py missing"
    echo "   Python3 is required for architecture checking"
    exit 1
fi